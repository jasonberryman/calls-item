<link rel="import" href="../iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../paper-item/paper-item-body.html">
<link rel="import" href="../date-display/date-display.html">
<link rel="import" href="../paper-item/paper-item.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../polymer/polymer.html">
<!--
  `<leg-item></leg-item>` demo
  @demo demo.html
-->
<dom-module id="leg-item">
  <template>
    <style>
      :host {
        display:block;
        font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;
      }
      number {
        display: inline-block;
        border: 1px solid green;
        border-radius: 50%;
        margin: 8px;
        height: 23px;
        line-height: 22px;
        width: 22px;
        text-align: center;
      }
      number.true {
        background: green;
        color: #fff;
      }
      strong {
        color: #99c75f;
        font-size: bigger;
      }
      
    </style>
    <paper-icon-item elevation="1">
      <number item-icon class$="[[selected]]">[[number]]</number> 
      <paper-item-body>
        <span>
          <span> [[from]] <strong>&rArr;</strong> [[to]] </span> 
          <span>
            <iron-icon icon="communication:call" style="color:green"></iron-icon>
            <date-display value="[[times.received]]" format="HH:mm:ss"></date-display>
          </span>
          <span>
            <iron-icon icon="communication:call-end" style="color:red"></iron-icon>
            <date-display value="[[times.cleared]]" format="HH:mm:ss"></date-display>
          </span>
          <span>
            <iron-icon icon="device:access-time" style="color:gray"></iron-icon>
            [[times.duration]]
          </span>
        </span>
      </paper-item-body>
      <template is="dom-if" if="[[recording]]">
        <div style="position:absolute;right:32px;"> 
          <iron-icon icon="av:play-arrow" style="color:green"></iron-icon>
        </div>
      </template>
    </paper-icon-item>
  </template>
</dom-module>
<script>
  Polymer({
    is: "leg-item",
    properties:{
      number:{
        type:Number,
        computed:"addOne(index)",
      },
      id:String,
      legSelected:String,
      selected:{
        computed:"isSelected(id,legSelected)"
      },
    },
    isSelected: function(id,legSelected){
      if (id && legSelected) {
        return id === legSelected
      } else {
        return false
      }
    },
    addOne: function(i) {
      return 1+i
    },
  })
</script>
